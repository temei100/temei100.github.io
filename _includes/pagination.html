{%- comment -%}
Include vars:
        paginator
        reverse
        center
{%- endcomment -%}

<div class="paginator">
  {% if paginator.total_pages > 1 %}
  <ul class="pager" style= {%if include.center == "true" %} "text-align:center" {% else %} "text-align:right" {% endif %}>
      {% if paginator.first_page %}
      <!--li class="previous">
          <a href="{{ paginator.first_page_path | prepend: site.baseurl | replace: '//', '/' }}">首页</a>
      </li-->
      {% endif %}

      {% if paginator.previous_page %}
      <li class="previous">
          <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">上页</a>
      </li>
      {% endif %}

      {% if paginator.page_trail %}
        {% for trail in paginator.page_trail %}
          <li {% if page.url == trail.path %} class="selected"{% endif %}>
              <a href="{{ trail.path | prepend: site.baseurl | replace: '//', '/' }}" title="{{trail.title}}">{{ trail.num }}</a>
          </li>
        {% endfor %}
      {% endif %}

      {% if paginator.next_page %}
      <li class="next">
          <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">下页</a>
      </li>
      {% endif %}

       {% if paginator.last_page %}
      <!--li class="previous">
          <a href="{{ paginator.last_page_path | prepend: site.baseurl | replace: '//', '/' }}">尾页</a>
      </li-->
      {% endif %}
  </ul>
  {% endif %}
</div>

<div class="postlist">
{% for post in include.paginator.posts %}
<div class="row postitem">
{% if post.cover %}
    <div class="visible-lg-block col-lg-4">
     <a href="{{ site.baseurl }}{{ post.url }}"><img src="{{ site.img }}/cover/4x3/{{ post.cover }}" alt="{{ post.title }}"/></a>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8" style="padding-left:0px">
        <h2><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h2>
        <div class="postinfo" >
            <p>
                {% assign key=post.categories[0] %}
                {% assign infos= site.data.cateinfos %}
                <span class="glyphicon glyphicon-home"/>&nbsp;<span><a href="{{ site.baseurl }}/c/{{ post.categories }}/">{{ infos[key].name }}</a></span>
                {% for tag in post.tags %}
                <span class="glyphicon glyphicon-tag"/>&nbsp;<span><a href="{{ site.baseurl }}/t/all/#{{ tag }}">{{ tag }}</a></span>
                {% endfor %}
            </p>
        </div>
        <div class="postdesc">
            <p><a href="{{ site.baseurl }}{{ post.url }}"><span>{{ post.description }}...</span><span class="glyphicon glyphicon-share-alt"/></a></p>
        </div>
    </div>
{% else %}
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding-left:0px">
        <h2><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h2>
        <div class="postinfo" >
            <p>
                {% assign key=post.categories[0] %}
                {% assign infos= site.data.cateinfos %}
                <span class="glyphicon glyphicon-home"/>&nbsp;<span><a href="{{ site.baseurl }}/c/{{ post.categories }}/">{{ infos[key].name }}</a></span>
                {% for tag in post.tags %}
                <span class="glyphicon glyphicon-tag"/>&nbsp;<span><a href="{{ site.baseurl }}/t/all/#{{ tag }}">{{ tag }}</a></span>
                {% endfor %}
            </p>
        </div>
        <div class="postdesc">
            <p><a href="{{ site.baseurl }}{{ post.url }}"><span>{{ post.description }}...</span><span class="glyphicon glyphicon-share-alt"/></a></p>
        </div>
    </div>
{% endif %}
</div>
{% endfor %}
</div>

<div class="paginator">
  {% if paginator.total_pages > 1 %}
  <ul class="pager" style= {%if include.center == "true" %} "text-align:center" {% else %} "text-align:right" {% endif %}>
      {% if paginator.first_page %}
      <li class="previous">
          <a href="{{ paginator.first_page_path | prepend: site.baseurl | replace: '//', '/' }}">首页</a>
      </li>
      {% endif %}

      {% if paginator.previous_page %}
      <li class="previous">
          <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}">上页</a>
      </li>
      {% endif %}

      {% if paginator.page_trail %}
        {% for trail in paginator.page_trail %}
          <li {% if page.url == trail.path %} class="selected"{% endif %}>
              <a href="{{ trail.path | prepend: site.baseurl | replace: '//', '/' }}" title="{{trail.title}}">{{ trail.num }}</a>
          </li>
        {% endfor %}
      {% endif %}

      {% if paginator.next_page %}
      <li class="next">
          <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}">下页</a>
      </li>
      {% endif %}

       {% if paginator.last_page %}
      <li class="previous">
          <a href="{{ paginator.last_page_path | prepend: site.baseurl | replace: '//', '/' }}">尾页</a>
      </li>
      {% endif %}
  </ul>
  {% endif %}
</div>
